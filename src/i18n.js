import i18n from 'i18next';
import { initReactI18next } from 'react-i18next';

const savedLang = localStorage.getItem('weathernow_lang') || 'ru';

const resources = {
  ru: {
    translation: {
      appName: 'WeatherNow',
      searchPlaceholder: 'Введите город',
      favorites: 'Избранные города',
      history: 'История запросов',
      currentWeather: 'Текущая погода',
      hourlyForecast: 'Почасовой прогноз',
      dailyForecast: 'Прогноз на 5 дней',
      airQuality: 'Качество воздуха',
      localTime: 'Местное время',
      appTagline: 'Онлайн-приложение: текущая погода, прогноз и местное время',
      darkThemeLabel: 'Тёмная',
      lightThemeLabel: 'Светлая',
      airQualityTitle: 'Качество воздуха',
      airQualityIndexLabel: 'Индекс AQI',
      airQualityError: 'Не удалось загрузить качество воздуха',
      airQualityAqiGood: 'Хорошее',
      airQualityAqiFair: 'Удовлетворительное',
      airQualityAqiModerate: 'Умеренное',
      airQualityAqiPoor: 'Плохое',
      airQualityAqiVeryPoor: 'Очень плохое',
      airQualityAqiUnknown: 'Нет данных',
      citySearchPlaceholder: 'Введите город, например: Moscow',
      citySearchButton: 'Найти',
      citySearchLoading: 'Поиск городов...',
      errorTitle: 'Ошибка',
      errorRetry: 'Повторить',
      footerDataSource: 'Данные: Open‑Meteo API',
      historyTitle: 'Недавние запросы:',
      historyClear: 'Очистить',
      hourlyTitle: 'Почасовой прогноз (24 часа)',
      hourlyNoData: 'Нет данных почасового прогноза',
      hourlyError: 'Не удалось загрузить почасовой прогноз',
      hourlyGenericLabel: 'Погода',
      localTimeTitle: 'Местное время города',
      currentWeatherNoData: 'Нет данных о текущей погоде',
      currentWeatherError: 'Не удалось загрузить текущую погоду',
      currentWeatherPrompt: 'Выберите город, чтобы увидеть погоду.',
      currentWeatherGenericLabel: 'Погода',
      currentWeatherWindLabel: 'Ветер:',
      currentLocationName: 'Текущая локация',
      favoritesAdd: 'В избранное',
      favoritesRemove: 'Убрать из избранного',
      favoritesTitle: 'Избранные города',
      dailyTitle: 'Прогноз на несколько дней',
      dailyNoData: 'Нет данных прогноза',
      dailyError: 'Не удалось загрузить прогноз',
      dailyGenericLabel: 'Погода',
      dailyMinLabel: 'Мин',
      appMainTitle: 'Прогноз погоды по городам',
      appSubForCity: 'Текущая погода и прогноз для города {{city}}',
      appUpdatedAt: 'Обновлено:',
      appSubDetails: 'Почасовой и подробный прогноз на ближайшие дни.',
      unitsMetricLabel: '°C, м/с',
      unitsImperialLabel: '°F, mph',
    },
  },
  en: {
    translation: {
      appName: 'WeatherNow',
      searchPlaceholder: 'Enter a city',
      favorites: 'Favorite cities',
      history: 'Search history',
      currentWeather: 'Current weather',
      hourlyForecast: 'Hourly forecast',
      dailyForecast: '5‑day forecast',
      airQuality: 'Air quality',
      localTime: 'Local time',
      appTagline: 'Online app: current weather, forecast and local time',
      darkThemeLabel: 'Dark',
      lightThemeLabel: 'Light',
      airQualityTitle: 'Air quality',
      airQualityIndexLabel: 'AQI index',
      airQualityError: 'Failed to load air quality',
      airQualityAqiGood: 'Good',
      airQualityAqiFair: 'Fair',
      airQualityAqiModerate: 'Moderate',
      airQualityAqiPoor: 'Poor',
      airQualityAqiVeryPoor: 'Very poor',
      airQualityAqiUnknown: 'No data',
      citySearchPlaceholder: 'Enter a city, e.g. London',
      citySearchButton: 'Search',
      citySearchLoading: 'Searching cities...',
      errorTitle: 'Error',
      errorRetry: 'Retry',
      footerDataSource: 'Data source: Open‑Meteo API',
      historyTitle: 'Recent searches:',
      historyClear: 'Clear',
      hourlyTitle: 'Hourly forecast (24 hours)',
      hourlyNoData: 'No hourly forecast data',
      hourlyError: 'Failed to load hourly forecast',
      hourlyGenericLabel: 'Weather',
      localTimeTitle: 'Local time in city',
      currentWeatherNoData: 'No current weather data',
      currentWeatherError: 'Failed to load current weather',
      currentWeatherPrompt: 'Choose a city to see the weather.',
      currentWeatherGenericLabel: 'Weather',
      currentWeatherWindLabel: 'Wind:',
      currentLocationName: 'Current location',
      favoritesAdd: 'Add to favorites',
      favoritesRemove: 'Remove from favorites',
      favoritesTitle: 'Favorite cities',
      dailyTitle: 'Multi‑day forecast',
      dailyNoData: 'No forecast data',
      dailyError: 'Failed to load forecast',
      dailyGenericLabel: 'Weather',
      dailyMinLabel: 'Min',
      appMainTitle: 'Weather forecast by cities',
      appSubForCity: 'Current weather and forecast for {{city}}',
      appUpdatedAt: 'Updated:',
      appSubDetails: 'Hourly and detailed forecast for the next days.',
      unitsMetricLabel: '°C, m/s',
      unitsImperialLabel: '°F, mph',
    },
  },
};

i18n
  .use(initReactI18next)
  .init({
    resources,
    lng: savedLang,
    fallbackLng: 'en',
    interpolation: {
      escapeValue: false,
    },
  });

export default i18n;